@model IEnumerable<MedicalTriageSystem.Models.TriageResult>
@{
    ViewData["Title"] = "Mes Résultats de Triage";
    Layout = "_DashboardLayout";
}

<div class="container-fluid">
    <div class="page-header mb-4">
        <h1 class="page-title">
            <i class="fas fa-stethoscope me-2"></i> Mes Résultats de Triage
        </h1>
    </div>

    <div class="card shadow">
        <div class="card-body">
            @if (Model.Any())
            {
                <table class="table table-striped table-hover">
                    <thead class="table-dark">
                        <tr>
                            <th>Date</th>
                            <th>Score</th>
                            <th>Niveau</th>
                            <th>Recommandation</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var result in Model)
                        {
                            <tr>
                                <td>@result.CreatedAt.ToString("dd/MM/yyyy HH:mm")</td>
                                <td><strong>@result.Score</strong></td>
                                <td>
                                    <span class="badge fs-6
                                                @(result.Level == "Urgent" ? "bg-danger" :
                                                                                    result.Level == "Élevé" ? "bg-warning" :
                                                                                    result.Level == "Normal" ? "bg-info" : "bg-success")">
                                @result.Level
                            </span>
                        </td>
                        <td>@result.Recommendation</td>
                    </tr>
                                        }
                    </tbody>
                </table>
            }
            else
            {
                <div class="text-center py-5">
                    <i class="fas fa-clipboard-list fa-4x text-muted mb-4"></i>
                    <h4 class="text-muted">Aucun résultat de triage pour le moment</h4>
                    <a href="/Triage/Quick" class="btn btn-primary btn-lg mt-3">
                        <i class="bi bi-lightning-charge me-2"></i> Faire un Triage Rapide
                    </a>
                </div>
            }
        </div>
    </div>
</div>